{"mappings":"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","sources":["src/js/module_10/getUsers.js","src/js/module_10/common.js","src/js/module_10/getDirect.js","src/js/module_10/helpers/renderWeather.js","src/js/module_10/getWeather.js","src/js/module_10/helpers/requestWeather.js","src/js/module_10.js"],"sourcesContent":["const getUsers = () => {\n  const refs = {\n    btn: document.querySelector('.btn'),\n    userList: document.querySelector('.user-list'),\n  };\n\n  const searchParams = new URLSearchParams({\n    _limit: 5,\n    _page: 1,\n    _sort: 'name',\n  });\n\n  refs.btn.addEventListener('click', onClick);\n\n  function onClick(evt) {\n    fetchUsers()\n      .then(users => renderUsers(users))\n      .catch(error => console.log(error));\n  }\n\n  function fetchUsers() {\n    return fetch(`https://jsonplaceholder.typicode.com/users?${searchParams}`)\n      .then(response => {\n        // response hendling\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        console.log(response);\n        return response.json();\n      })\n      .then(json => {\n        // data hendling\n        console.log(json);\n        return json;\n      })\n      .catch(error => {\n        // error handling\n        console.log(error);\n      });\n  }\n\n  function renderUsers(users) {\n    const markup = users\n      .map(({ name, email, phone, company, address }) => {\n        return `<li>  \n                      <p><b>Name</b>: ${name}</p>\n                      <p><b>Email</b>: ${email}</p>\n                      <p><b>Phone</b>: ${phone}</p>\n                      <p><b>Company</b>: ${company.name}</p>\n                      <p><b>City</b>: ${address.city}</p>\n                  </li>`;\n      })\n      .join('');\n\n    refs.userList.insertAdjacentHTML('beforeend', markup);\n  }\n\n  // fetch('https://jsonplaceholder.typicode.com/todos/1')\n  //   .then(response => response.json())\n  //   .then(json => console.log(json));\n};\n\nexport { getUsers };\n","const common = {\n  API_KEY: 'c9fe9e84d178196211d0247c2678c07a',\n  BASE_WEATHER_URL: 'api.openweathermap.org/data/2.5/',\n  BASE_DIRECT_URL: 'http://api.openweathermap.org/geo/1.0/',\n};\n\nexport { common };\n","import { common } from './common';\n\nconst getDirect = city => {\n  return fetch(\n    common.BASE_DIRECT_URL + `direct?q=${city}&appid=${common.API_KEY}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(json => {\n      return json;\n    })\n    .catch(err => console.log(err));\n};\n\nexport { getDirect };\n","const renderWeather = data => {\n  const timezone = data.city.timezone;\n  const weatherList = data.list;\n\n  const markup = weatherList\n    .map(element => {\n      const date = new Date(element.dt * 1000).toUTCString();\n      const temp = element.main.temp;\n      const description = element.weather[0].description;\n      const icon = element.weather[0].icon;\n      return `\n    <li class=\"weather__item\">\n      <img src=\"${icon}\" alt=\"weather-icon\" class=\"weather__img\">\n      <p class=\"weather__date\">${date}</p>\n      <p class=\"weather__temp\">${temp}â„ƒ</p>\n      <p class=\"weather__description\">${description}</p>\n  </li>`;\n    })\n    .join('');\n\n  return markup;\n};\n\nexport { renderWeather };\n","import { getDirect } from './getDirect';\nimport { reqWeather } from './helpers/requestWeather';\nimport { renderWeather } from './helpers/renderWeather';\n\nconst getWeather = () => {\n  const refs = {\n    form: document.querySelector('.form'),\n    list: document.querySelector('.js-weather-list'),\n  };\n\n  refs.form.addEventListener('submit', evt => {\n    evt.preventDefault();\n\n    const city = evt.target.elements.city.value;\n\n    getDirect(city)\n      .then(value => {\n        reqWeather(value[0].lat, value[0].lon)\n          .then(data => (refs.list.innerHTML = renderWeather(data)))\n          .catch(err => console.log('Weather error'));\n      })\n      .catch(err => console.log('Direct error'));\n  });\n};\n\nexport { getWeather };\n","import { common } from '../common';\n\nfunction reqWeather(lat, lon) {\n  return fetch(\n    `http://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${common.API_KEY}&units=metric`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(json => {\n      return json;\n    })\n    .catch(err => console.log(err));\n}\n\nexport { reqWeather };\n","import { getUsers } from './module_10/getUsers';\nimport { getWeather } from './module_10/getWeather';\n\nconst main = () => {\n  getUsers();\n  getWeather();\n  const date = new Date(1701529200 * 1000);\n};\n\nmain();\n"],"names":["$0ef8ce8f56df09e5$export$925a4945a6cd0f3e","refs","btn","document","querySelector","userList","searchParams","URLSearchParams","_limit","_page","_sort","addEventListener","evt","fetch","concat","then","response","ok","Error","status","console","log","json","catch","error","users","markup","map","param","name","email","phone","company","address","city","join","insertAdjacentHTML","renderUsers","$2bbdca6349f257c8$export$919daad019702595","API_KEY","BASE_WEATHER_URL","BASE_DIRECT_URL","$1d6f4522edc7680d$export$3a1009e2953df630","statusText","err","$17f9adafb2189d1c$export$6725c38767fd6246","data","timezone","list","element","date","Date","dt","toUTCString","temp","main","description","weather","icon","$0ca3afd2df7e7694$export$ce1081f0c9899666","form","preventDefault","target","elements","value","lat","lon","innerHTML","$be866aba9d7a9418$var$main"],"version":3,"file":"module_10.130669f1.js.map"}