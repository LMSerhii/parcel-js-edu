{"mappings":"AAAA,MAAMA,EAAW,KACf,MAAMC,EAAO,CACXC,IAAKC,SAASC,cAAc,QAC5BC,SAAUF,SAASC,cAAc,eAG7BE,EAAe,IAAIC,gBAAgB,CACvCC,OAAQ,EACRC,MAAO,EACPC,MAAO,SAGTT,EAAKC,IAAIS,iBAAiB,SAE1B,SAAiBC,GAORC,MAAM,8CAA8CP,KACxDQ,MAAKC,IAEJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OADAC,QAAQC,IAAIL,GACLA,EAASM,MAAM,IAEvBP,MAAKO,IAEJF,QAAQC,IAAIC,GACLA,KAERC,OAAMC,IAELJ,QAAQC,IAAIG,EAAM,IArBnBT,MAAKU,GAyBV,SAAqBA,GACnB,MAAMC,EAASD,EACZE,KAAI,EAACC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,KAC5B,iDACyBJ,iDACCC,iDACAC,mDACEC,EAAQH,mDACXI,EAAQC,sCAGzCC,KAAK,IAERhC,EAAKI,SAAS6B,mBAAmB,YAAaT,E,CAtC7BU,CAAYX,KAC1BF,OAAMC,GAASJ,QAAQC,IAAIG,I,KCjB5Ba,EAAS,CACbC,QAAS,mCACTC,iBAAkB,mCAClBC,gBAAiB,0CCDbC,EAAYR,GACTnB,MACLuB,EAAOG,gBAAkB,YAAYP,WAAcI,EAAOC,WAEzDvB,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAAS0B,YAE3B,OAAO1B,EAASM,MAAM,IAEvBP,MAAKO,GACGA,IAERC,OAAMoB,GAAOvB,QAAQC,IAAIsB,KCf9B,MAAMC,EAAgBC,IACHA,EAAKZ,KAAKa,SAmB3B,OAlBoBD,EAAKE,KAGtBpB,KAAIqB,IACH,MAAMC,EAAO,IAAIC,KAAkB,IAAbF,EAAQG,IAAWC,cACnCC,EAAOL,EAAQM,KAAKD,KACpBE,EAAcP,EAAQQ,QAAQ,GAAGD,YAEvC,MAAO,qDADMP,EAAQQ,QAAQ,GAAGC,kFAILR,yCACAI,iDACOE,gBAChC,IAEHrB,KAAK,GAEK,EChBTwB,EAAa,KACjB,MAAMxD,EAAO,CACXyD,KAAMvD,SAASC,cAAc,SAC7B0C,KAAM3C,SAASC,cAAc,qBAG/BH,EAAKyD,KAAK/C,iBAAiB,UAAUC,IACnCA,EAAI+C,iBAEJ,MAAM3B,EAAOpB,EAAIgD,OAAOC,SAAS7B,KAAK8B,MAEtCtB,EAAUR,GACPlB,MAAKgD,ICdZ,IAAoBC,EAAKC,GAALD,EDeDD,EAAM,GAAGC,ICfHC,EDeQF,EAAM,GAAGE,ICdjCnD,MACL,uDAAuDkD,SAAWC,WAAa5B,EAAOC,wBAErFvB,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASM,MAAM,IAEvBP,MAAKO,GACGA,IAERC,OAAMoB,GAAOvB,QAAQC,IAAIsB,MDGnB5B,MAAK8B,GAAS3C,EAAK6C,KAAKmB,UAAYtB,EAAcC,KAClDtB,OAAMoB,GAAOvB,QAAQC,IAAI,kBAAiB,IAE9CE,OAAMoB,GAAOvB,QAAQC,IAAI,iBAAgB,GAC5C,EEnBS,MACXpB,IACAyD,IACa,IAAIR,KAAK,WAAkB,EAG1CiB","sources":["src/js/module_10/getUsers.js","src/js/module_10/common.js","src/js/module_10/getDirect.js","src/js/module_10/helpers/renderWeather.js","src/js/module_10/getWeather.js","src/js/module_10/helpers/requestWeather.js","src/js/module_10.js"],"sourcesContent":["const getUsers = () => {\n  const refs = {\n    btn: document.querySelector('.btn'),\n    userList: document.querySelector('.user-list'),\n  };\n\n  const searchParams = new URLSearchParams({\n    _limit: 5,\n    _page: 1,\n    _sort: 'name',\n  });\n\n  refs.btn.addEventListener('click', onClick);\n\n  function onClick(evt) {\n    fetchUsers()\n      .then(users => renderUsers(users))\n      .catch(error => console.log(error));\n  }\n\n  function fetchUsers() {\n    return fetch(`https://jsonplaceholder.typicode.com/users?${searchParams}`)\n      .then(response => {\n        // response hendling\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        console.log(response);\n        return response.json();\n      })\n      .then(json => {\n        // data hendling\n        console.log(json);\n        return json;\n      })\n      .catch(error => {\n        // error handling\n        console.log(error);\n      });\n  }\n\n  function renderUsers(users) {\n    const markup = users\n      .map(({ name, email, phone, company, address }) => {\n        return `<li>  \n                      <p><b>Name</b>: ${name}</p>\n                      <p><b>Email</b>: ${email}</p>\n                      <p><b>Phone</b>: ${phone}</p>\n                      <p><b>Company</b>: ${company.name}</p>\n                      <p><b>City</b>: ${address.city}</p>\n                  </li>`;\n      })\n      .join('');\n\n    refs.userList.insertAdjacentHTML('beforeend', markup);\n  }\n\n  // fetch('https://jsonplaceholder.typicode.com/todos/1')\n  //   .then(response => response.json())\n  //   .then(json => console.log(json));\n};\n\nexport { getUsers };\n","const common = {\n  API_KEY: 'c9fe9e84d178196211d0247c2678c07a',\n  BASE_WEATHER_URL: 'api.openweathermap.org/data/2.5/',\n  BASE_DIRECT_URL: 'http://api.openweathermap.org/geo/1.0/',\n};\n\nexport { common };\n","import { common } from './common';\n\nconst getDirect = city => {\n  return fetch(\n    common.BASE_DIRECT_URL + `direct?q=${city}&appid=${common.API_KEY}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(json => {\n      return json;\n    })\n    .catch(err => console.log(err));\n};\n\nexport { getDirect };\n","const renderWeather = data => {\n  const timezone = data.city.timezone;\n  const weatherList = data.list;\n\n  const markup = weatherList\n    .map(element => {\n      const date = new Date(element.dt * 1000).toUTCString();\n      const temp = element.main.temp;\n      const description = element.weather[0].description;\n      const icon = element.weather[0].icon;\n      return `\n    <li class=\"weather__item\">\n      <img src=\"${icon}\" alt=\"weather-icon\" class=\"weather__img\">\n      <p class=\"weather__date\">${date}</p>\n      <p class=\"weather__temp\">${temp}â„ƒ</p>\n      <p class=\"weather__description\">${description}</p>\n  </li>`;\n    })\n    .join('');\n\n  return markup;\n};\n\nexport { renderWeather };\n","import { getDirect } from './getDirect';\nimport { reqWeather } from './helpers/requestWeather';\nimport { renderWeather } from './helpers/renderWeather';\n\nconst getWeather = () => {\n  const refs = {\n    form: document.querySelector('.form'),\n    list: document.querySelector('.js-weather-list'),\n  };\n\n  refs.form.addEventListener('submit', evt => {\n    evt.preventDefault();\n\n    const city = evt.target.elements.city.value;\n\n    getDirect(city)\n      .then(value => {\n        reqWeather(value[0].lat, value[0].lon)\n          .then(data => (refs.list.innerHTML = renderWeather(data)))\n          .catch(err => console.log('Weather error'));\n      })\n      .catch(err => console.log('Direct error'));\n  });\n};\n\nexport { getWeather };\n","import { common } from '../common';\n\nfunction reqWeather(lat, lon) {\n  return fetch(\n    `http://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&appid=${common.API_KEY}&units=metric`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(json => {\n      return json;\n    })\n    .catch(err => console.log(err));\n}\n\nexport { reqWeather };\n","import { getUsers } from './module_10/getUsers';\nimport { getWeather } from './module_10/getWeather';\n\nconst main = () => {\n  getUsers();\n  getWeather();\n  const date = new Date(1701529200 * 1000);\n};\n\nmain();\n"],"names":["$2945dcb02d06a646$export$925a4945a6cd0f3e","refs","btn","document","querySelector","userList","searchParams","URLSearchParams","_limit","_page","_sort","addEventListener","evt","fetch","then","response","ok","Error","status","console","log","json","catch","error","users","markup","map","name","email","phone","company","address","city","join","insertAdjacentHTML","renderUsers","$c1dc34ede192e47a$export$919daad019702595","API_KEY","BASE_WEATHER_URL","BASE_DIRECT_URL","$b4ee171b69f30bfa$export$3a1009e2953df630","statusText","err","$2db0e0693a26af89$export$6725c38767fd6246","data","timezone","list","element","date","Date","dt","toUTCString","temp","main","description","weather","icon","$00702f348aeeb2bf$export$ce1081f0c9899666","form","preventDefault","target","elements","value","lat","lon","innerHTML","$83ef690760e6d6a7$var$main"],"version":3,"file":"module_10.8987c8c5.js.map"}